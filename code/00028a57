0x00028a57    c220         rep #0x20
0x00028a59    a20f00       ldx #0x000f
0x00028a5c    8e7a10       stx 0x107a
0x00028a5f    ee7610       inc 0x1076
0x00028a62    a25e00       ldx #0x005e
0x00028a65    a90000       lda #0x0000
0x00028a68    9d001b       sta 0x1b00,x
0x00028a6b    ca           dex
0x00028a6c    ca           dex
0x00028a6d    10f9         bpl 0x028a68
0x00028a6f    60           rts
0x00028a70    c220         rep #0x20
0x00028a72    60           rts
0x00028a73    c220         rep #0x20
0x00028a75    a558         lda 0x58
0x00028a77    890300       bit #0x0003
0x00028a7a    d05a         bne 0x028ad6
0x00028a7c    a20000       ldx #0x0000
0x00028a7f    a00000       ldy #0x0000
0x00028a82    bd0810       lda 0x1008,x
0x00028a85    18           clc
0x00028a86    7d001b       adc 0x1b00,x
0x00028a89    9d001b       sta 0x1b00,x
0x00028a8c    eb           swa
0x00028a8d    291f00       and #0x001f
0x00028a90    8d0610       sta 0x1006
0x00028a93    e8           inx
0x00028a94    e8           inx
0x00028a95    bd0810       lda 0x1008,x
0x00028a98    18           clc
0x00028a99    7d001b       adc 0x1b00,x
0x00028a9c    9d001b       sta 0x1b00,x
0x00028a9f    4a           lsr a
0x00028aa0    4a           lsr a
0x00028aa1    4a           lsr a
0x00028aa2    29e003       and #0x03e0
0x00028aa5    0d0610       ora 0x1006
0x00028aa8    8d0610       sta 0x1006
0x00028aab    e8           inx
0x00028aac    e8           inx
0x00028aad    bd0810       lda 0x1008,x
0x00028ab0    18           clc
0x00028ab1    7d001b       adc 0x1b00,x
0x00028ab4    9d001b       sta 0x1b00,x
0x00028ab7    0a           asl a
0x00028ab8    0a           asl a
0x00028ab9    29007c       and #0x7c00
0x00028abc    0d0610       ora 0x1006
0x00028abf    9700         sta [0x00],y
0x00028ac1    e8           inx
0x00028ac2    e8           inx
0x00028ac3    c8           iny
0x00028ac4    c8           iny
0x00028ac5    c02000       cpy #0x0020
0x00028ac8    90b8         bcc 0x028a82
0x00028aca    ee0001       inc 0x0100
0x00028acd    ce7a10       dec 0x107a
0x00028ad0    1004         bpl 0x028ad6
0x00028ad2    a9ffff       lda #0xffff
0x00028ad5    60           rts
0x00028ad6    a90000       lda #0x0000
0x00028ad9    60           rts
0x00028ada    e220         sep #0x20
0x00028adc    ce7a10       dec 0x107a
0x00028adf    101f         bpl 0x028b00
0x00028ae1    a20400       ldx #0x0004
0x00028ae4    8e7a10       stx 0x107a
0x00028ae7    ee7c10       inc 0x107c
0x00028aea    ae7c10       ldx 0x107c
0x00028aed    bf2efb03     lda 0x03fb2e,x
0x00028af1    1a           inc a
0x00028af2    8d7810       sta 0x1078
0x00028af5    1009         bpl 0x028b00
0x00028af7    ee7610       inc 0x1076
0x00028afa    9c7810       stz 0x1078
0x00028afd    ee7810       inc 0x1078
0x00028b00    60           rts
0x00028b01    c220         rep #0x20
0x00028b03    ad7e10       lda 0x107e
0x00028b06    d00c         bne 0x028b14
0x00028b08    ce7a10       dec 0x107a
0x00028b0b    1006         bpl 0x028b13
0x00028b0d    ee7e10       inc 0x107e
0x00028b10    9c7a10       stz 0x107a
0x00028b13    60           rts
0x00028b14    e220         sep #0x20
0x00028b16    ae7a10       ldx 0x107a
0x00028b19    bf6ffb03     lda 0x03fb6f,x
0x00028b1d    3005         bmi 0x028b24
0x00028b1f    eb           swa
0x00028b20    a900         lda #0x00
0x00028b22    8003         bra 0x028b27
0x00028b24    eb           swa
0x00028b25    a9ff         lda #0xff
0x00028b27    eb           swa
0x00028b28    c220         rep #0x20
0x00028b2a    8d0610       sta 0x1006
0x00028b2d    18           clc
0x00028b2e    6d7d00       adc 0x007d
0x00028b31    8d7d00       sta 0x007d
0x00028b34    ad0610       lda 0x1006
0x00028b37    49ffff       eor #0xffff
0x00028b3a    1a           inc a
0x00028b3b    18           clc
0x00028b3c    6d6a10       adc 0x106a
0x00028b3f    8d6a10       sta 0x106a
0x00028b42    e8           inx
0x00028b43    8e7a10       stx 0x107a
0x00028b46    e08d00       cpx #0x008d
0x00028b49    9009         bcc 0x028b54
0x00028b4b    ee7610       inc 0x1076
0x00028b4e    9c7e10       stz 0x107e
0x00028b51    9c7a10       stz 0x107a
0x00028b54    60           rts
0x00028b55    ad7e10       lda 0x107e
0x00028b58    d009         bne 0x028b63
0x00028b5a    ce7a10       dec 0x107a
0x00028b5d    1003         bpl 0x028b62
0x00028b5f    ee7e10       inc 0x107e
0x00028b62    60           rts
0x00028b63    c220         rep #0x20
0x00028b65    ee6f00       inc 0x006f
0x00028b68    ee6f00       inc 0x006f
0x00028b6b    ee6d00       inc 0x006d
0x00028b6e    ee6d00       inc 0x006d
0x00028b71    ad6d00       lda 0x006d
0x00028b74    c90001       cmp #0x0100
0x00028b77    b005         bcs 0x028b7e
0x00028b79    22529200     jsr 0x009252
0x00028b7d    60           rts
0x00028b7e    e220         sep #0x20
0x00028b80    a901         lda #0x01
0x00028b82    8545         sta 0x45
0x00028b84    60           rts
0x00028b85    c220         rep #0x20
0x00028b87    ad9b11       lda 0x119b
0x00028b8a    29ff00       and #0x00ff
0x00028b8d    d024         bne 0x028bb3
0x00028b8f    a558         lda 0x58
0x00028b91    890300       bit #0x0003
0x00028b94    d038         bne 0x028bce
0x00028b96    ee0001       inc 0x0100
0x00028b99    a22000       ldx #0x0020
0x00028b9c    8e0010       stx 0x1000
0x00028b9f    a24000       ldx #0x0040
0x00028ba2    8e0210       stx 0x1002
0x00028ba5    a26000       ldx #0x0060
0x00028ba8    8e0410       stx 0x1004
0x00028bab    a20000       ldx #0x0000
0x00028bae    204680       jsr 0x8046
0x00028bb1    f01b         beq 0x028bce
0x00028bb3    e220         sep #0x20
0x00028bb5    ad9b11       lda 0x119b
0x00028bb8    f011         beq 0x028bcb
0x00028bba    9c2121       stz 0x2121
0x00028bbd    a9ff         lda #0xff
0x00028bbf    8d2221       sta 0x2122
0x00028bc2    a97f         lda #0x7f
0x00028bc4    8d2221       sta 0x2122
0x00028bc7    a902         lda #0x02
0x00028bc9    8545         sta 0x45
0x00028bcb    ee9b11       inc 0x119b
0x00028bce    60           rts
0x00028bcf    c220         rep #0x20
0x00028bd1    a558         lda 0x58
0x00028bd3    890300       bit #0x0003
0x00028bd6    d026         bne 0x028bfe
0x00028bd8    ee0001       inc 0x0100
0x00028bdb    a22000       ldx #0x0020
0x00028bde    8e0010       stx 0x1000
0x00028be1    a24000       ldx #0x0040
0x00028be4    8e0210       stx 0x1002
0x00028be7    a26000       ldx #0x0060
0x00028bea    8e0410       stx 0x1004
0x00028bed    a20000       ldx #0x0000
0x00028bf0    207680       jsr 0x8076
0x00028bf3    f009         beq 0x028bfe
0x00028bf5    ee7610       inc 0x1076
0x00028bf8    a23000       ldx #0x0030
0x00028bfb    8e7a10       stx 0x107a
0x00028bfe    60           rts
0x00028bff    c220         rep #0x20
0x00028c01    ad9900       lda 0x0099
0x00028c04    89f0ff       bit #0xfff0
0x00028c07    f00c         beq 0x028c15
0x00028c09    a20700       ldx #0x0007
0x00028c0c    8e7610       stx 0x1076
0x00028c0f    e220         sep #0x20
0x00028c11    a901         lda #0x01
0x00028c13    8545         sta 0x45
0x00028c15    60           rts
